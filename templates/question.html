{% extends 'basic.html' %}

{% block title %}
    Question
{% endblock %}

{% block body %}
        <table class="question-table">
            <tr>
                <td rowspan="2"><img src=" {{ question["image"] }}" alt="" height="150" width="150"></td>
                <td class="question-title">{{ question["title"] }}</td>
                <td>
                    <div class="dropdown">
                    <button class="dropbtn">Options</button>
                    <div class="dropdown-content">
                    <a href="/question/{{ question["id"] }}/edit">Edit Question</a>
                    <a href="{{ url_for("delete_question", question_id=question['id']) }}">Delete Question</a>
                    <a href="{{ url_for("add_tag_to_question", question_id=question['id']) }}">Add Tag</a>
                    </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td> {{ question["message"] }}</td>
                <td>
                    <table>
                    <trh><td>Vote for Question:<br>
                        <button value="{{ question["id"] }}"><a href="{{ url_for("question_vote", question_id=question['id'],  modifier="up") }}">+</a></button>
                        <button value="{{ question["id"] }}"><a href="{{ url_for("question_vote", question_id=question['id'], modifier="down") }}">-</a></button>
                    </td></tr>
                    <tr><td>
                        Tags:
                        {% for tag in tags %}
                    <p>#{{ tag['name'] }} <a
                            href="{{ url_for("delete_tag", tag_id=tag['tag_id'], question_id=question['id'] ) }}">X</a>
                    </p>
                {% endfor %}
                    </td></tr>
                    </table>
                </td>
            </tr>
        </table>

        <h2>Question comments</h2>
        <hr>
        <iframe width="1060" height="200" src="/question/{{ question["id"] }}/comments" frameborder="0"
                allow="accelerometer;"></iframe>
        <hr>

        <br><br>
        <table class="button-table" align="center">
            <tr>
                <td><a class="button" href="/question/{{ question["id"] }}/new-answer"><button>Add new Answer</button></a></td>
                <td><a class="button" href="/question/{{ question["id"] }}/new-comment"><button>Add comment</button></a></td>
            </tr>

            <hr>
        </table>

        <table class="table">
            <caption><h2>Answers</h2></caption>
            <tr>
                <th>Number of votes</th>
                <th>Message</th>
                <th>Vote</th>
                <th>Delete answer</th>
                <th>Image</th>
            </tr>

            {% for answer in answers %}
            <tr>
                <td>{{ answer["vote_number"] }}</td>
                <td>{{ answer["message"] | safe }}<button ><a href="/answer/{{ answer["id"] }}/new-comment">Add comment</a></button></td>
                <td>
                    <button value="{{ answer["id"] }}"><a href="{{ url_for("answer_vote", answer_id=answer['id'], question_id=answer['question_id'], modifier="up") }}">+</a></button>
                    <button value="{{ answer["id"] }}"><a href="{{ url_for("answer_vote", answer_id=answer['id'], question_id=answer['question_id'], modifier="down") }}">-</a></button>
                </td>
                <td>
                    <button value="{{ answer["id"] }}"><a href="{{ url_for("delete_answer", answer_id=answer['id'], question_id=answer['question_id']) }}">Delete</a></button>
                </td>
                <td>
                    <img src=" {{ answer["image"] }}" alt="" height="100">
                </td>
            </tr>
            <tr>
                <td colspan="5" height="100px"><iframe  width="1060" height="200" src="/answer/{{ answer["id"] }}/comments" frameborder="0";></iframe></td>
            </tr>
                {% endfor %}
        </table>
{% endblock %}